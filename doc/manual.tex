% Project:     DNS resolver
% @file        doc/documentation.tex
% @date        14.11.2023
% 
% @brief Documentation file
%
% @author Adam LiÅ¾iÄiar <xlizic00@stud.fit.vutbr.cz>

\documentclass[a4paper, 11pt]{article}

\usepackage[slovak]{babel}
\usepackage[utf8]{inputenc}
\usepackage[left=2cm, top=3cm, text={17cm, 24cm}]{geometry}
\usepackage{times}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage[unicode]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    urlcolor=blue, 
    citecolor=blue
}

\begin{document}

	%%%%% TitulnÃ¡ strÃ¡nka %%%%%
	\begin{titlepage}
		\begin{center}
			\includegraphics[width=0.77\linewidth]{res/logo_FIT.pdf} \\

			\vspace{\stretch{0.382}}

			\scalebox{2}{\Huge{ManuÃ¡l}} \\
			\LARGE{DNS Resolver} \\
			\vspace{\stretch{0.618}}
		\end{center}

		\begin{minipage}[b]{0.4 \textwidth}
			\raggedright
			{\Large \today}
		\end{minipage}
		\hfill
		\begin{minipage}[b]{0.6 \textwidth}
			\raggedleft
			\Large
			Adam LiÅ¾iÄiar (xlizic00)\\
		\end{minipage}		
	\end{titlepage}

	%%%%% Obsah %%%%%
	\pagenumbering{roman}
	\setcounter{page}{1}
	\tableofcontents
	\clearpage

	\pagenumbering{arabic}
	\setcounter{page}{1}
	
	%%%%% Ãšvod %%%%%
	\section{Ãšvod}
	//todo: KrÃ¡tky prehÄ¾ad o programe a jeho ÃºÄele.
	//todo: KrÃ¡tka charakteristika DNS
	//todo: InformÃ¡cie o verzii a autorskÃ½ch prÃ¡vach.
	NapiÅ¡te program dns, kterÃ½ bude umÄ›t zasÃ­lat dotazy na DNS servery a v ÄitelnÃ© podobÄ› vypisovat pÅ™ijatÃ© odpovÄ›di na standardnÃ­ vÃ½stup. SestavenÃ­ a analÃ½za DNS paketÅ¯ musÃ­ bÃ½t implementovÃ¡na pÅ™Ã­mo v programu dns. StaÄÃ­ uvaÅ¾ovat pouze komunikaci pomocÃ­ UDP.



	NenÃ­-li v jinÃ© ÄÃ¡sti zadÃ¡nÃ­ specifikovÃ¡no jinak, je pÅ™i vytvÃ¡Å™enÃ­ programu povoleno pouÅ¾Ã­t hlaviÄkovÃ© soubory pro prÃ¡ci se sokety a dalÅ¡Ã­ obvyklÃ© funkce pouÅ¾Ã­vanÃ© v sÃ­Å¥ovÃ©m prostÅ™edÃ­ (jako je netinet/*, sys/*, arpa/* apod.), knihovnu pro prÃ¡ci s vlÃ¡kny (pthread), signÃ¡ly, Äasem, stejnÄ› jako standardnÃ­ knihovnu jazyka C (varianty ISO/ANSI i POSIX), C++ a STL. JinÃ© knihovny nejsou povoleny.



	SpuÅ¡tÄ›nÃ­ aplikace

	PouÅ¾itÃ­: dns [-r] [-x] [-6] -s server [-p port] adresa



	PoÅ™adÃ­ parametrÅ¯ je libovolnÃ©. Popis parametrÅ¯:

	-r: PoÅ¾adovÃ¡na rekurze (Recursion Desired = 1), jinak bez rekurze.
	-x: ReverznÃ­ dotaz mÃ­sto pÅ™Ã­mÃ©ho.
	-6: Dotaz typu AAAA mÃ­sto vÃ½chozÃ­ho A.
	-s: IP adresa nebo domÃ©novÃ© jmÃ©no serveru, kam se mÃ¡ zaslat dotaz.
	-p port: ÄŒÃ­slo portu, na kterÃ½ se mÃ¡ poslat dotaz, vÃ½chozÃ­ 53.
	adresa: DotazovanÃ¡ adresa.
	PodporovanÃ© typy dotazÅ¯



	Program dns se v odpovÄ›dÃ­ch musÃ­ vypoÅ™Ã¡dat se zÃ¡znamy typu CNAME. NenÃ­ poÅ¾adovÃ¡na podpora DNSSEC.





	%%%%% InÅ¡talÃ¡cia a konfigurÃ¡cia %%%%%
	\section{InÅ¡talÃ¡cia a konfigurÃ¡cia}
	//todo: Pokyny pre inÅ¡talÃ¡ciu programu.
	//todo: PoÅ¾iadavky na systÃ©m a kompatibilita.
	
	%%%%% SpÃºÅ¡tanie programu %%%%%
	\section{SpÃºÅ¡tanie programu}
	//todo: PodrobnÃ½ popis ako spustiÅ¥ aplikÃ¡ciu.
	//todo: Vysvetlenie rÃ´znych spustiteÄ¾nÃ½ch parametrov (ako -r, -x, -6, -s, -p a inÃ©).
	%//staci v dokumentacii: V zadÃ¡nÃ­ projektu je napsÃ¡no, Å¾e argumenty lze zadÃ¡vat v libovolnÃ©m poÅ™adÃ­. AvÅ¡ak na serveru Eva je nastavena promÄ›nnÃ¡ prostÅ™edÃ­ POSIXLY_CORRECT, coÅ¾ zpÅ¯sobÃ­ zastavenÃ­ zpracovÃ¡nÃ­, pokud funkce getopt narazÃ­ na argument, kterÃ½ nenÃ­ obsaÅ¾en v optstring. Z tohoto dÅ¯vodu musÃ­ bÃ½t dotazovanÃ© jmÃ©no uvedeno jako poslednÃ­ argument. OstatnÃ­ argumenty lze zadÃ¡vat v libovolnÃ©m poÅ™adÃ­. Je tÅ™eba nÄ›co zmÄ›nit v implementaci, nebo staÄÃ­ tuto podmÃ­nku zaznamenat v dokumentaci
	// co robi aky parameter.. aj help a vystup

	
	VÃ½stup aplikace



	Na standardnÃ­ vÃ½stup vypiÅ¡te informaci o tom, zda je zÃ­skanÃ¡ odpovÄ›Ä autoritativnÃ­, zda byla zjiÅ¡tÄ›na rekurzivnÄ› a zda byla odpovÄ›Ä zkrÃ¡cena. DÃ¡le vypiÅ¡te vÅ¡echny sekce a zÃ¡znamy obdrÅ¾enÃ© v odpovÄ›di.



	Pro kaÅ¾dou sekci v odpovÄ›di vypiÅ¡te jejÃ­ nÃ¡zev a poÄet zÃ­skanÃ½ch zÃ¡znamÅ¯. Pro kaÅ¾dÃ½ zÃ¡znam vypiÅ¡te jeho nÃ¡zev, typ, tÅ™Ã­du, TTL a data.



	UkÃ¡zka moÅ¾nÃ©ho vÃ½stupu:



	%$ dns -r -s kazi.fit.vutbr.cz www.fit.vut.cz

	Authoritative: No, Recursive: Yes, Truncated: No

	Question section (1)

	www.fit.vut.cz., A, IN

	Answer section (1)

	www.fit.vut.cz., A, IN, 14400, 147.229.9.26

	Authority section (0)

	Additional section (0)

	%$ dns -r -s kazi.fit.vutbr.cz www.github.com

	Authoritative: No, Recursive: Yes, Truncated: No

	Question section (1)

	www.github.com., A, IN

	Answer section (2)

	www.github.com., CNAME, IN, 3600, github.com.

	github.com., A, IN, 60, 140.82.121.3

	Authority section (0)

	Additional section (0)


	je tam kontrola na format vstupu argumentov
	%%%%% AnalÃ½za a interpretÃ¡cia vÃ½stupov %%%%%
	\section{AnalÃ½za a interpretÃ¡cia vÃ½stupov}
	//todo: Ako ÄÃ­taÅ¥ a interpretovaÅ¥ vÃ½stupy programu.
	//todo: PrÃ­klady vÃ½stupov a ich vÃ½znam.

	%%%%% RieÅ¡enia problÃ©mov a chybovÃ© hlÃ¡Å¡ky %%%%%
	\section{RieÅ¡enia problÃ©mov a chybovÃ© hlÃ¡Å¡ky}
	//todo: BeÅ¾nÃ© problÃ©my a ich rieÅ¡enia.
	//todo: Vysvetlenie chybovÃ½ch hlÃ¡Å¡ok a kroky k ich odstrÃ¡neniu.
	
	%%%%% ArchitektÃºra programu %%%%%
	\section{ArchitektÃºra programu}
	//todo: StruÄnÃ½ popis kÄ¾ÃºÄovÃ½ch ÄastÃ­ programu.

	%%%%% Testovanie programu %%%%%
	\section{Testovanie programu}
	//todo: Postupy a nÃ¡stroje pre testovanie aplikÃ¡cie.
	//todo: PrÃ­klady testov a ich vÃ½znam.
	// testy su ok, a treba cakat kvoli zmene TTL.....Obsah databÃ¡ze DNS se z principÅ¯ mÄ›nÃ­ a mÅ¯Å¾e vypadat z rÅ¯znÃ½ch mÃ­st rÅ¯znÄ›. NapÅ™. doporuÄuji se serveru kazi.fit.vutbr.cz ptÃ¡t ze sÃ­tÄ› FIT. Do jinÃ½ch sÃ­tÃ­ mohou bÃ½t odpovÄ›di jinÃ©. UkÃ¡zkovÃ© zÃ¡znamy jsou mimo mou kontrolu a mohou se nepÅ™edvÃ­datelnÄ› mÄ›nit, v prÅ¯bÄ›hu Å™eÅ¡enÃ­ projektu mohou bÃ½t zruÅ¡enÃ¡, doÄasnÄ› nedostupnÃ¡, novÄ› pÅ™esmÄ›rovanÃ¡ jinam apod.
	
	ReferenÄnÃ­ prostÅ™edÃ­ pro pÅ™eklad a testovÃ¡nÃ­

	Program by mÄ›l bÃ½t pÅ™enositelnÃ½. ReferenÄnÃ­ prostÅ™edÃ­ pro pÅ™eklad budou servery eva.fit.vutbr.cz a merlin.fit.vutbr.cz (program musÃ­ bÃ½t pÅ™eloÅ¾itelnÃ½ a funkÄnÃ­ na obou systÃ©mech). VlastnÃ­ testovÃ¡nÃ­ mÅ¯Å¾e probÃ­hat na jinÃ©m poÄÃ­taÄi s nainstalovanÃ½m OS GNU/Linux, Äi FreeBSD, vÄetnÄ› jinÃ½ch architektur neÅ¾ Intel/AMD, jinÃ½ch distribucÃ­, jinÃ½ch verzÃ­ knihoven apod. Pokud vyÅ¾adujete minimÃ¡lnÃ­ verzi knihovny (dostupnÃ© na serveru merlin a eva), jasnÄ› tuto skuteÄnost oznaÄte v dokumentaci a README.

	%error testy testuju, ci na vystupe je chybovy vystup "[31m[0m"

	%%%%% RozÅ¡Ã­renia %%%%%
	\section{RozÅ¡Ã­renia}
	//todo: AkÃ© rozÅ¡Ã­renia mÃ¡ program? (podpora viac vecÃ­, chybovÃ© kÃ³dy, chybovÃ© hlÃ¡Å¡ky,...)
	// Errcodes
	// ZadÃ¡nÃ­ nespecifikuje, kterÃ© typy RDATA bychom mÄ›li bÃ½t schopni zpracovÃ¡vat. Existuje vÃ­ce neÅ¾ 16 typÅ¯, ale zadÃ¡nÃ­ se zmiÅˆuje pouze o CNAME, A, AAAA. MÄ›l by je program umÄ›t zpracovat vÅ¡echny, nebo jen tyto tÅ™i?:::::	Tato funkcionalita je vyÅ¾adovanÃ¡ v zadÃ¡nÃ­. ZpracovÃ¡nÃ­ dalÅ¡Ã­ch, vÃ¡mi uvedenÃ½ch i typÅ¯ zÃ¡znamÅ¯ z jinÃ½ch RFC, lze vnÃ­mat jako funkcionalitu zÃ¡kladnÃ­ zadÃ¡nÃ­ rozÅ¡iÅ™ujÃ­cÃ­. PakliÅ¾e se rozhodnete implementovat funkcionalitu nad rÃ¡mec zadÃ¡nÃ­, jasnÄ› toto rozÅ¡Ã­Å™enÃ­ oznaÄte v souboru README a dokumentaci. VÃ¡mi implementovanÃ© rozÅ¡Ã­Å™enÃ­ Å™Ã¡dnÄ› dokumenujte. VaÅ¡e rozhodnutÃ­ ve fÃ¡zi nÃ¡vrhu a implementace Å™Ã¡dnÄ› dokumentujte a vysvÄ›tlete v dokumentaci.
	je tam kontrola na format vstupu argumentov
	// man stranka v src/man/dns.1


	%%%%% Referencie %%%%%
	\section{Referencie}
	//todo: referencie
	https://datatracker.ietf.org/doc/html/rfc1035
	https://datatracker.ietf.org/doc/html/rfc3596

	%%%%% PrÃ­lohy %%%%%
	\section{PrÃ­lohy}
	// wireshark photo


\end{document}
